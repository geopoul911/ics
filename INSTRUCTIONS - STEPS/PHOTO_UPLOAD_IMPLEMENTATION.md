# Consultant Photo Upload Implementation

## Overview
This implementation adds the ability to upload and manage photos for consultants on the consultants overview page. Users can now upload, view, and remove consultant photos through a user-friendly interface.

## Features Implemented

### Backend Changes

1. **Media Configuration**
   - Added media URL configuration in `backend/core/urls.py` to serve uploaded files
   - Created media directory structure: `backend/media/consultant_photos/`

2. **Model Updates**
   - The `Consultant` model already had a `photo` field (ImageField)
   - No changes needed to the model

3. **Serializer Updates**
   - Added `photo_url` field to `ConsultantSerializer` in `backend/webapp/serializers.py`
   - Added `photo_url` field to `ConsultantReferenceSerializer` for list views
   - Implemented `get_photo_url()` method to generate absolute URLs for photos

4. **View Updates**
   - Updated `ConsultantView` in `backend/webapp/administration/views.py` to pass request context
   - Updated `AllConsultants` view to pass request context
   - Updated `ConsultantViewSet` in `backend/webapp/data_management/views.py` to pass request context

### Frontend Changes

1. **Photo Edit Modal**
   - Created `EditConsultantPhotoModal` component in `frontend/src/components/modals/consultant_edit_modals.jsx`
   - Features:
     - File upload with validation (image files only, max 5MB)
     - Preview of selected image before upload
     - Display of current photo
     - Option to remove existing photo
     - Error handling and user feedback

2. **Consultant Overview Page**
   - Added photo field to consultant overview in `frontend/src/components/administration/consultant/consultant_overview/consultant_overview.jsx`
   - Displays current photo as a circular thumbnail
   - Shows "No photo uploaded" when no photo exists
   - Includes edit button to open photo upload modal

3. **Consultant Lists**
   - Added photo column to consultants table in `frontend/src/components/data_management/consultants/consultants.jsx`
   - Added photo column to administration all consultants table in `frontend/src/components/administration/all_consultants/all_consultants.jsx`
   - Displays circular photo thumbnails or placeholder when no photo exists

## Technical Details

### File Upload Process
1. User selects an image file (JPEG, PNG, GIF supported)
2. Frontend validates file type and size (max 5MB)
3. File is uploaded using FormData to the consultant update endpoint
4. Backend saves the file to `media/consultant_photos/` directory
5. Photo URL is generated and returned in the response
6. Frontend updates the UI to show the new photo

### API Endpoints
- **GET** `/api/administration/consultant/{consultant_id}/` - Returns consultant data including photo_url
- **PUT** `/api/administration/consultant/{consultant_id}/` - Updates consultant including photo upload
- **GET** `/api/administration/all_consultants/` - Returns all consultants with photo_url
- **GET** `/api/data_management/consultants/` - Returns consultants with photo_url

### File Storage
- Photos are stored in `backend/media/consultant_photos/`
- Files are served via `/media/` URL path
- File names are automatically generated by Django's ImageField

## Usage

### Uploading a Photo
1. Navigate to a consultant's overview page
2. Click the "Photo" edit button next to the photo field
3. Click "Choose File" and select an image
4. Preview the image if desired
5. Click "Upload Photo" to save

### Removing a Photo
1. Open the photo edit modal
2. Click "Remove Photo" button
3. Confirm the action

### Viewing Photos
- Photos are displayed as circular thumbnails in consultant lists
- Full-size photos are shown in the consultant overview page
- Placeholder is shown when no photo is uploaded

## Security & Validation
- Only image files are accepted (JPEG, PNG, GIF)
- Maximum file size is 5MB
- Files are stored securely in the media directory
- Authentication is required for all photo operations

## Browser Compatibility
- Modern browsers with File API support
- FormData for file uploads
- FileReader for image preview

## Future Enhancements
- Image cropping and resizing
- Multiple photo support
- Photo gallery view
- Bulk photo upload
- Photo compression for better performance
